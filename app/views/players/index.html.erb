
<nav class="navbar navbar-expand-lg navbar-light bg-info mb-5">
<a class="navbar-brand" >Intern Demo</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navbarNavAltMarkup">

<div class="navbar-nav">
<%= link_to "Teams", teams_path, class: "nav-item nav-link" %>
</div>

    <div class="navbar-nav">
        <%= link_to "Player", players_path, class: "nav-item nav-link" %>
    </div>

    <div class="navbar-nav ml-auto">
    <button id="logout" class="btn btn-sm btn-danger" type="button">Logout</button>
    
        <i class="nav-item navbar-text text-dark">Hello <%= session[:current_user] != nil ? session[:current_user]["name"] : "anonymous"%></i>
    </div>
</div>
</nav>


<%= link_to "Create new player", new_player_path, class: "btn btn-primary" %>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
      <th scope="col">Created at</th>
      <th scope="col">Operation</th>
    </tr>
  </thead>
  <tbody>
  <% @players.each_with_index do |player,i| %>
    <tr>
      <th scope="row"><%= i+1 %></th>
      <td><%= player.name %></td>
      <td><%= player.created_at %></td>
      <td>
      <%= link_to "Edit", edit_player_path(player.id) %> 
      | 
      <%= link_to 'Delete', player_path(player.id), :method => :delete, data: {confirm: "Are you sure?"} %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>

<script>
$(document).ready(function() {

$("#logout").click(()=>{
    firebase.auth().signOut()
      .then(function() {
        $.get("/logout", () => {
          window.location.replace("/")
        })
        
      })
      .catch(function(error) {
      })
})
  
})
</script>